# Snapshot report for `test/map-node-modules.hooks.test.js`

The actual snapshot is saved in `map-node-modules.hooks.test.js.snap`.

Generated by [AVA](https://avajs.dev).

## mapNodeModules - packageDependencies hook removes dependency (snapshot)

> remove dependency

    {
      compartments: {
        '<ATTENUATORS>': {
          label: '<ATTENUATORS>',
          location: '<ATTENUATORS>',
          modules: {
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
              module: './index.js',
            },
          },
          name: '<ATTENUATORS>',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            defaultAttenuator: undefined,
            packages: 'any',
          },
          scopes: {
            '<ATTENUATORS>': {
              compartment: '<ATTENUATORS>',
            },
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
            },
          },
          sourceDirname: 'app',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/app/': {
          label: '$root$',
          location: 'file:///node_modules/app/',
          modules: {
            app: {
              compartment: 'file:///node_modules/app/',
              module: './index.js',
            },
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
              module: './index.js',
            },
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
              module: './index.js',
            },
          },
          name: 'app',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            packages: 'any',
          },
          scopes: {
            app: {
              compartment: 'file:///node_modules/app/',
            },
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
            },
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
            },
          },
          sourceDirname: 'app',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/dep-a/': {
          label: 'dep-a',
          location: 'file:///node_modules/dep-a/',
          modules: {
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
              module: './index.js',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
              module: './index.js',
            },
          },
          name: 'dep-a',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            packages: {
              'dep-a>dep-c': true,
            },
          },
          scopes: {
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
            },
          },
          sourceDirname: 'dep-a',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/dep-b/': {
          label: 'dep-b',
          location: 'file:///node_modules/dep-b/',
          modules: {
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
              module: './index.js',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
              module: './index.js',
            },
          },
          name: 'dep-b',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            packages: {
              'dep-a>dep-c': true,
            },
          },
          scopes: {
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
            },
          },
          sourceDirname: 'dep-b',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/dep-c/': {
          label: 'dep-a>dep-c',
          location: 'file:///node_modules/dep-c/',
          modules: {
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
              module: './index.js',
            },
          },
          name: 'dep-c',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {},
          scopes: {
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
            },
          },
          sourceDirname: 'dep-c',
          types: {
            './index.js': 'mjs',
          },
        },
      },
      entry: {
        compartment: 'file:///node_modules/app/',
        module: './index.js',
      },
      tags: [],
    }

## mapNodeModules - packageDependencies hook adds existing dependency (snapshot)

> add existing dependency

    {
      compartments: {
        '<ATTENUATORS>': {
          label: '<ATTENUATORS>',
          location: '<ATTENUATORS>',
          modules: {
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
              module: './index.js',
            },
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
              module: './index.js',
            },
          },
          name: '<ATTENUATORS>',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            defaultAttenuator: undefined,
            packages: 'any',
          },
          scopes: {
            '<ATTENUATORS>': {
              compartment: '<ATTENUATORS>',
            },
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
            },
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
            },
          },
          sourceDirname: 'app',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/app/': {
          label: '$root$',
          location: 'file:///node_modules/app/',
          modules: {
            app: {
              compartment: 'file:///node_modules/app/',
              module: './index.js',
            },
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
              module: './index.js',
            },
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
              module: './index.js',
            },
          },
          name: 'app',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            packages: 'any',
          },
          scopes: {
            app: {
              compartment: 'file:///node_modules/app/',
            },
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
            },
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
            },
          },
          sourceDirname: 'app',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/dep-a/': {
          label: 'dep-a',
          location: 'file:///node_modules/dep-a/',
          modules: {
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
              module: './index.js',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
              module: './index.js',
            },
          },
          name: 'dep-a',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            packages: {
              'dep-a>dep-c': true,
            },
          },
          scopes: {
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
            },
          },
          sourceDirname: 'dep-a',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/dep-b/': {
          label: 'dep-b',
          location: 'file:///node_modules/dep-b/',
          modules: {
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
              module: './index.js',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
              module: './index.js',
            },
          },
          name: 'dep-b',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            packages: {
              'dep-a>dep-c': true,
            },
          },
          scopes: {
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
            },
          },
          sourceDirname: 'dep-b',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/dep-c/': {
          label: 'dep-a>dep-c',
          location: 'file:///node_modules/dep-c/',
          modules: {
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
              module: './index.js',
            },
          },
          name: 'dep-c',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {},
          scopes: {
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
            },
          },
          sourceDirname: 'dep-c',
          types: {
            './index.js': 'mjs',
          },
        },
      },
      entry: {
        compartment: 'file:///node_modules/app/',
        module: './index.js',
      },
      tags: [],
    }

## mapNodeModules - packageDependencies hook no modification (snapshot)

> no dependency modification

    {
      compartments: {
        '<ATTENUATORS>': {
          label: '<ATTENUATORS>',
          location: '<ATTENUATORS>',
          modules: {
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
              module: './index.js',
            },
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
              module: './index.js',
            },
          },
          name: '<ATTENUATORS>',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            defaultAttenuator: undefined,
            packages: 'any',
          },
          scopes: {
            '<ATTENUATORS>': {
              compartment: '<ATTENUATORS>',
            },
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
            },
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
            },
          },
          sourceDirname: 'app',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/app/': {
          label: '$root$',
          location: 'file:///node_modules/app/',
          modules: {
            app: {
              compartment: 'file:///node_modules/app/',
              module: './index.js',
            },
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
              module: './index.js',
            },
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
              module: './index.js',
            },
          },
          name: 'app',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            packages: 'any',
          },
          scopes: {
            app: {
              compartment: 'file:///node_modules/app/',
            },
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
            },
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
            },
          },
          sourceDirname: 'app',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/dep-a/': {
          label: 'dep-a',
          location: 'file:///node_modules/dep-a/',
          modules: {
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
              module: './index.js',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
              module: './index.js',
            },
          },
          name: 'dep-a',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            packages: {
              'dep-a>dep-c': true,
            },
          },
          scopes: {
            'dep-a': {
              compartment: 'file:///node_modules/dep-a/',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
            },
          },
          sourceDirname: 'dep-a',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/dep-b/': {
          label: 'dep-b',
          location: 'file:///node_modules/dep-b/',
          modules: {
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
              module: './index.js',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
              module: './index.js',
            },
          },
          name: 'dep-b',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {
            packages: {
              'dep-a>dep-c': true,
            },
          },
          scopes: {
            'dep-b': {
              compartment: 'file:///node_modules/dep-b/',
            },
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
            },
          },
          sourceDirname: 'dep-b',
          types: {
            './index.js': 'mjs',
          },
        },
        'file:///node_modules/dep-c/': {
          label: 'dep-a>dep-c',
          location: 'file:///node_modules/dep-c/',
          modules: {
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
              module: './index.js',
            },
          },
          name: 'dep-c',
          parsers: {
            bytes: 'bytes',
            cjs: 'cjs',
            js: 'mjs',
            json: 'json',
            mjs: 'mjs',
            text: 'text',
          },
          policy: {},
          scopes: {
            'dep-c': {
              compartment: 'file:///node_modules/dep-c/',
            },
          },
          sourceDirname: 'dep-c',
          types: {
            './index.js': 'mjs',
          },
        },
      },
      entry: {
        compartment: 'file:///node_modules/app/',
        module: './index.js',
      },
      tags: [],
    }
